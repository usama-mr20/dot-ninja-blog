(this["webpackJsonpdot-ninja-blog"]=this["webpackJsonpdot-ninja-blog"]||[]).push([[0],{296:function(e,t,a){},495:function(e,t,a){"use strict";a.r(t);var n=a(28),r=a(0),c=a.n(r),i=a(14),s=a.n(i),o=(a(296),a(23)),l=a(17),j=a(533),b=a(534),d=a(535),u=a(530),h=a(25),O=a(550),m=a(3),x=Object(h.b)(null,(function(e){return{signOut:function(){return e((function(e,t,a){(0,a.getFirebase)().auth().signOut().then((function(){e({type:"SIGNOUT_SUCCESS"})}))}))}}}))((function(e){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(o.c,{to:"/create",style:{textDecoration:"none"},children:Object(m.jsx)(u.a,{children:"New Post"})}),Object(m.jsx)(u.a,{onClick:e.signOut,children:"Log Out"}),Object(m.jsx)(O.a,{style:{marginLeft:"10px",color:"black",backgroundColor:"#fae8e8"},children:e.profile.initials})]})})),p=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(o.c,{to:"/signin",style:{textDecoration:"none"},children:Object(m.jsx)(u.a,{children:"Log in"})}),Object(m.jsx)(o.c,{to:"/signup",style:{textDecoration:"none"},children:Object(m.jsx)(u.a,{children:"Sign Up"})})]})},g=Object(j.a)((function(e){return{root:{flexGrow:1},title:{flexGrow:1,color:"white",fontSize:"28px",textDecoration:"none",fontWeight:"bold"},toolbar:{marginLeft:e.spacing(8),marginRight:e.spacing(8)}}})),f=Object(h.b)((function(e){return{auth:e.firebase.auth,profile:e.firebase.profile}}))((function(e){var t=g(),a=e.auth,n=e.profile,r=a.uid?Object(m.jsx)(x,{profile:n}):Object(m.jsx)(p,{});return Object(m.jsx)("div",{className:t.root,children:Object(m.jsx)(b.a,{position:"fixed",color:"secondary",children:Object(m.jsxs)(d.a,{className:t.toolbar,children:[Object(m.jsx)(o.b,{to:"/",className:t.title,children:"Dot Ninja Blog"}),r]})})})})),v=a(541),y=a(12),S=a(549),N=a(537),C=a(536),E=a(276),w=a(269),R=a.n(w),P=a(270),D=a.n(P),I=Object(j.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary}}})),W=function(){var e,t=I(),a=c.a.useState(!1),n=Object(y.a)(a,2),r=n[0],i=n[1];return Object(m.jsx)("div",{className:t.root,children:Object(m.jsxs)(S.a,{expanded:"panel1"===r,onChange:(e="panel1",function(t,a){i(!!a&&e)}),children:[Object(m.jsxs)(C.a,{expandIcon:Object(m.jsx)(R.a,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:[Object(m.jsx)(E.a,{className:t.heading,children:"About Developer"}),Object(m.jsx)(E.a,{className:t.secondaryHeading,children:"Hey Ninjas! Welcome here"})]}),Object(m.jsx)(N.a,{children:Object(m.jsxs)(E.a,{children:["A very simple yet powerful blog made in React-Js and integrated with Firebase. ",Object(m.jsx)("br",{}),"Try make a new blog post and see the magic.",Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),"Drop your suggestions at: ",Object(m.jsx)("br",{}),Object(m.jsx)(D.a,{fontSize:"small",style:{marginBottom:"-6px",marginRight:"3px"}}),Object(m.jsx)("a",{href:"mailto:usamaadev@gmail.com",children:"usamaadev@gmail.com"})]})})]})})},F=a(538),T=a(539),U=a(134),L=a.n(U),A=Object(j.a)({root:{minWidth:350,maxWidth:700},title:{fontSize:14,textDecoration:"none"}}),_=function(e){var t=e.post,a=A();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(F.a,{className:a.root,children:Object(m.jsxs)(T.a,{children:[Object(m.jsx)(E.a,{variant:"h5",component:"h2",children:t.title}),Object(m.jsx)(E.a,{variant:"body2",component:"p",style:{marginTop:"5px"},children:t.body}),Object(m.jsx)(E.a,{variant:"body2",component:"p",color:"textSecondary",style:{marginTop:"10px"},children:L()(t.createdAt.toDate()).calendar()})]})}),Object(m.jsx)("br",{})]})},k=function(e){var t=e.posts;return Object(m.jsx)(m.Fragment,{children:t&&t.map((function(e){return Object(m.jsx)(o.b,{to:"/post/"+e.id,style:{textDecoration:"none"},children:Object(m.jsx)(_,{post:e})},e.id)}))})},G=a(51),z=a(40),B=a(540);var q=function(){return Object(m.jsxs)("div",{style:{marginBottom:"60px",maxWidth:"80%"},children:[Object(m.jsx)(E.a,{variant:"h3",children:Object(m.jsx)(B.a,{})}),Object(m.jsx)(E.a,{variant:"body1",children:Object(m.jsx)(B.a,{})}),Object(m.jsx)(B.a,{variant:"text"}),Object(m.jsx)(E.a,{variant:"caption",children:Object(m.jsx)(B.a,{})})]})},H=Object(j.a)({notifications:{maxHeight:"400px",maxWidth:"80%",position:"sticky",top:75}}),J=Object(G.c)(Object(h.b)((function(e){return{posts:e.firestore.ordered.blogPosts,auth:e.firebase.auth}})),Object(z.firestoreConnect)([{collection:"blogPosts",orderby:["createdAt","desc"]}]))((function(e){var t=H();return e.auth.uid?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsxs)(v.a,{container:!0,spacing:3,justifyContent:"center",children:[e.posts?Object(m.jsx)(v.a,{item:!0,xs:12,md:8,children:Object(m.jsx)(k,{posts:e.posts})}):Object(m.jsxs)(v.a,{item:!0,xs:12,md:8,justifyContent:"center",children:[Object(m.jsx)(q,{}),Object(m.jsx)(q,{}),Object(m.jsx)(q,{}),Object(m.jsx)(q,{})]}),Object(m.jsx)(v.a,{item:!0,xs:12,md:4,className:t.notifications,children:Object(m.jsx)(W,{})})]})]}):Object(m.jsx)(l.a,{to:"/signin"})})),K=Object(j.a)({root:{minWidth:350,maxWidth:900}}),M=Object(G.c)(Object(h.b)((function(e,t){var a=t.match.params.id,n=e.firestore.data.blogPosts;return{post:n?n[a]:null,auth:e.firebase.auth}})),Object(z.firestoreConnect)([{collection:"blogPosts"}]))((function(e){var t=K(),a=e.post;return e.auth.uid?a?Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(v.a,{container:!0,spacing:3,justifyContent:"center",children:[Object(m.jsxs)(v.a,{item:!0,xs:12,md:8,children:[Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)(F.a,{className:t.root,children:Object(m.jsxs)(T.a,{children:[Object(m.jsx)(E.a,{variant:"h5",component:"h2",children:a.title}),Object(m.jsx)(E.a,{variant:"body2",component:"p",children:a.body}),Object(m.jsx)("br",{}),Object(m.jsxs)(E.a,{variant:"body2",component:"p",children:["Posted by: \xa0",Object(m.jsxs)("strong",{children:[a.authorFirstName," ",a.authorLastName]})]}),Object(m.jsx)(E.a,{variant:"body2",component:"p",color:"textSecondary",children:L()(a.createdAt.toDate()).calendar()})]})}),Object(m.jsx)(o.b,{to:"/",children:Object(m.jsx)(u.a,{variant:"contained",color:"secondary",style:{marginTop:"20px",float:"right"},children:"Back"})})]}),Object(m.jsx)(v.a,{item:!0,xs:12,md:4})]})}):Object(m.jsx)("h3",{children:"Loading..."}):Object(m.jsx)(l.a,{to:"/signin"})})),V=a(544),Y=a(546),Q=a(545),X=a(548),Z=a(542),$=a(547),ee=a(135),te=a.n(ee),ae=a(543);function ne(){return Object(m.jsxs)(E.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(m.jsx)(Z.a,{color:"inherit",href:"",children:"Dot Ninja"})," ",(new Date).getFullYear(),"."]})}var re=Object(j.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),ce=Object(h.b)((function(e){return{authError:e.auth.authError,auth:e.firebase.auth}}),(function(e){return{signIn:function(t){return e((a=t,function(e,t,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(a.email,a.password).then((function(){e({type:"LOGIN_SUCCESS"})})).catch((function(t){e({type:"LOGIN_ERROR",err:t})}))}));var a}}}))((function(e){var t=Object(r.useState)(""),a=Object(y.a)(t,2),n=a[0],c=a[1],i=Object(r.useState)(""),s=Object(y.a)(i,2),o=s[0],j=s[1],b=re();return e.auth.uid?Object(m.jsx)(l.a,{to:"/"}):Object(m.jsxs)(ae.a,{component:"main",maxWidth:"xs",children:[Object(m.jsx)(V.a,{}),Object(m.jsxs)("div",{className:b.paper,children:[Object(m.jsx)(O.a,{className:b.avatar,children:Object(m.jsx)(te.a,{})}),Object(m.jsx)(E.a,{component:"h1",variant:"h5",children:"Sign in to Dot Ninja"}),Object(m.jsxs)("form",{className:b.form,noValidate:!0,onSubmit:function(t){t.preventDefault(),e.signIn({email:n,password:o})},children:[Object(m.jsx)(Y.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){c(e.target.value)}}),Object(m.jsx)(Y.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){j(e.target.value)}}),Object(m.jsx)(Q.a,{control:Object(m.jsx)(X.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(m.jsx)(u.a,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",className:b.submit,children:"Sign In"}),Object(m.jsx)("div",{style:{color:"red"},children:e.authError?Object(m.jsx)("p",{children:e.authError}):null}),Object(m.jsx)(v.a,{container:!0,children:Object(m.jsx)(v.a,{item:!0,children:Object(m.jsx)(Z.a,{href:"/signup",variant:"body2",children:"Don't have an account? Sign Up"})})})]})]}),Object(m.jsx)($.a,{mt:8,children:Object(m.jsx)(ne,{})})]})}));function ie(){return Object(m.jsxs)(E.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(m.jsx)(Z.a,{color:"inherit",href:"",children:"Dot Ninja"})," ",(new Date).getFullYear(),"."]})}var se=Object(j.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),oe=Object(h.b)((function(e){return{auth:e.firebase.auth,authErr:e.auth.authError}}),(function(e){return{signUp:function(t){return e(function(e){return function(t,a,n){var r=n.getFirebase,c=r(),i=r().firestore();c.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){return i.collection("users").doc(t.user.uid).set({firstName:e.firstName,lastName:e.lastName,initials:e.firstName[0].toUpperCase()+e.lastName[0].toUpperCase()})})).then((function(){t({type:"SIGNUP_SUCCESS"})})).catch((function(e){t({type:"SIGNUP_ERROR",err:e})}))}}(t))}}}))((function(e){var t=se(),a=Object(r.useState)(""),n=Object(y.a)(a,2),c=n[0],i=n[1],s=Object(r.useState)(""),o=Object(y.a)(s,2),j=o[0],b=o[1],d=Object(r.useState)(""),h=Object(y.a)(d,2),x=h[0],p=h[1],g=Object(r.useState)(""),f=Object(y.a)(g,2),S=f[0],N=f[1],C=Object(r.useState)(),w=Object(y.a)(C,2);w[0],w[1];return e.auth.uid?Object(m.jsx)(l.a,{to:"/"}):Object(m.jsxs)(ae.a,{component:"main",maxWidth:"xs",children:[Object(m.jsx)(V.a,{}),Object(m.jsxs)("div",{className:t.paper,children:[Object(m.jsx)(O.a,{className:t.avatar,children:Object(m.jsx)(te.a,{})}),Object(m.jsx)(E.a,{component:"h1",variant:"h5",children:"Sign up to Dot Ninja"}),Object(m.jsxs)("form",{className:t.form,noValidate:!0,onSubmit:function(t){t.preventDefault(),e.signUp({firstName:c,lastName:j,email:x,password:S})},children:[Object(m.jsxs)(v.a,{container:!0,spacing:2,children:[Object(m.jsx)(v.a,{item:!0,xs:12,sm:6,children:Object(m.jsx)(Y.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,onChange:function(e){i(e.target.value)}})}),Object(m.jsx)(v.a,{item:!0,xs:12,sm:6,children:Object(m.jsx)(Y.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",onChange:function(e){b(e.target.value)}})}),Object(m.jsx)(v.a,{item:!0,xs:12,children:Object(m.jsx)(Y.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:function(e){p(e.target.value)}})}),Object(m.jsx)(v.a,{item:!0,xs:12,children:Object(m.jsx)(Y.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){N(e.target.value)}})}),Object(m.jsx)(v.a,{item:!0,xs:12,children:Object(m.jsx)(Q.a,{control:Object(m.jsx)(X.a,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive inspiration, marketing promotions and updates via email."})})]}),Object(m.jsx)(u.a,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",className:t.submit,children:"Sign Up"}),Object(m.jsx)("div",{style:{color:"red"},children:e.authErr?Object(m.jsx)("p",{children:e.authErr}):null}),Object(m.jsx)(v.a,{container:!0,justifyContent:"flex-end",children:Object(m.jsx)(v.a,{item:!0,children:Object(m.jsx)(Z.a,{href:"/signin",variant:"body2",children:"Already have an account? Sign in"})})})]})]}),Object(m.jsx)($.a,{mt:5,children:Object(m.jsx)(ie,{})})]})})),le=Object(j.a)((function(e){return{root:{minWidth:275},areaSize:{width:"300px"},submit:{margin:e.spacing(3,0,2)}}})),je=Object(h.b)((function(e){return{auth:e.firebase.auth}}),(function(e){return{createPost:function(t){return e(function(e){return function(t,a,r){var c=(0,r.getFirebase)().firestore(),i=a().firebase.profile,s=a().firebase.auth.uid;c.collection("blogPosts").add(Object(n.a)(Object(n.a)({},e),{},{authorFirstName:i.firstName,authorLastName:i.lastName,authorId:s,createdAt:new Date})).then((function(){t({type:"CREATE_POST",post:e})})).catch((function(e){t({type:"CREATE_POST_ERROR",err:e})}))}}(t))}}}))((function(e){var t=le(),a=Object(r.useState)(0),n=Object(y.a)(a,2),c=n[0],i=n[1],s=Object(r.useState)(0),o=Object(y.a)(s,2),j=o[0],b=o[1],d=Object(r.useState)(""),h=Object(y.a)(d,2),O=h[0],x=h[1],p=Object(r.useState)(""),g=Object(y.a)(p,2),f=g[0],v=g[1],S=Object(r.useState)(!1),N=Object(y.a)(S,2),C=N[0],w=N[1],R=Object(r.useState)(!1),P=Object(y.a)(R,2),D=P[0],I=P[1];return e.auth.uid?Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(ae.a,{component:"main",maxWidth:"sm",children:[Object(m.jsx)("br",{}),Object(m.jsx)(E.a,{align:"center",variant:"h4",children:"Create a new blog post"}),Object(m.jsx)("br",{}),Object(m.jsxs)("form",{className:t.root,children:[Object(m.jsx)(Y.a,{id:"title",label:"Post Title",variant:"outlined",required:!0,error:C,helperText:C?"Tiltle must be longer than 5 characters":"Characters ".concat(j," / 50"),autoFocus:!0,fullWidth:!0,inputProps:{maxLength:50},onChange:function(e){b(e.target.value.length),x(e.target.value),e.target.value.length<=5?w(!0):w(!1)}}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)(Y.a,{id:"body",label:"Post Body",variant:"filled",size:"medium",required:!0,error:D,multiline:!0,maxRows:"25",fullWidth:!0,helperText:D?"Tiltle must be longer than 20 characters":"Characters ".concat(c," / 500"),inputProps:{maxLength:500},onChange:function(e){i(e.target.value.length),v(e.target.value),e.target.value.length<=20?I(!0):I(!1)}}),Object(m.jsx)(u.a,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",className:t.submit,onClick:function(t){t.preventDefault(),O.length>=5&&f.length>=20?C||D||(e.createPost({title:O,body:f}),e.history.push("/")):(w(!0),I(!0))},children:"Publish"})]})]})}):Object(m.jsx)(l.a,{to:"/signin"})}));var be=function(){return Object(m.jsxs)(o.a,{children:[Object(m.jsx)(f,{}),Object(m.jsxs)(ae.a,{children:[Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsxs)(l.d,{children:[Object(m.jsx)(l.b,{exact:!0,path:"/",component:J}),Object(m.jsx)(l.b,{path:"/post/:id",component:M}),Object(m.jsx)(l.b,{path:"/create",component:je}),Object(m.jsx)(l.b,{exact:!0,path:"/signin",component:ce}),Object(m.jsx)(l.b,{exact:!0,path:"/signup",component:oe})]})]})]})},de={posts:[{id:1,title:"hi there im 1st post",body:"hi there im 1st post body"},{id:2,title:"hi there im 2nd post",body:"hi there im 2nd post body"},{id:3,title:"hi there im 3rd post",body:"hi there im 3rd post body"}]},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_POST":return console.log("post added"),e;case"CREATE_POST_ERROR":return console.log("post add error",t.err),e;default:return e}},he={authError:null},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return console.log("login error"),Object(n.a)(Object(n.a)({},e),{},{authError:"Login Unsuccessful: Email or password incorrect"});case"LOGIN_SUCCESS":return console.log("login success"),{authError:null};case"SIGNOUT_SUCCESS":return console.log("signout success"),e;case"SIGNUP_SUCCESS":return console.log("signup success"),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"SIGNUP_ERROR":return console.log("signup error"),Object(n.a)(Object(n.a)({},e),{},{authError:t.err.message});default:return e}},me=a(136),xe=Object(G.b)({firebase:z.firebaseReducer,firestore:me.firestoreReducer,auth:Oe,post:ue}),pe=a(271),ge=a(101);a(498),a(488),a(497);ge.a.initializeApp({apiKey:"AIzaSyDLXQ4V6o_ZDK3sBKtWDzG-Wiygi7pMhto",authDomain:"dot-ninja.firebaseapp.com",projectId:"dot-ninja",storageBucket:"dot-ninja.appspot.com",messagingSenderId:"803987888413",appId:"1:803987888413:web:845cc6a6ac1110761469f4",measurementId:"G-CL0EPWYTLM"}),ge.a.analytics(),ge.a.firestore().settings({timestampsInSnapshots:!0});var fe=ge.a,ve=a(273),ye=a.n(ve),Se=Object(G.d)(xe,Object(G.a)(pe.a.withExtraArgument({getFirebase:z.getFirebase}))),Ne={firebase:fe,config:{userProfile:"users",useFirestoreForProfile:!0},dispatch:Se.dispatch,createFirestoreInstance:me.createFirestoreInstance};function Ce(e){var t=e.children,a=Object(h.c)((function(e){return e.firebase.auth}));return Object(z.isLoaded)(a)?t:Object(m.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",margin:"-25px 0 0 -25px"},children:Object(m.jsx)(ye.a,{color:"#f51457"})})}s.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(h.a,{store:Se,children:Object(m.jsx)(z.ReactReduxFirebaseProvider,Object(n.a)(Object(n.a)({},Ne),{},{children:Object(m.jsx)(Ce,{children:Object(m.jsx)(be,{})})}))})}),document.getElementById("root"))}},[[495,1,2]]]);
//# sourceMappingURL=main.4377a1a8.chunk.js.map